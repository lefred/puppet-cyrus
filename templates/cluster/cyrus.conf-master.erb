START {
  # do not delete this entry!
  recover   cmd="ctl_cyrusdb -r"
  # this is only necessary if using idled for IMAP IDLE
  idled     cmd="idled"
  ## add continuous synchronization to the replica
  syncclient       cmd="/usr/lib/cyrus-imapd/sync_client -r"
}
SERVICES {
  # add or remove based on preferences
  imap      cmd="imapd" listen="imap" prefork=5 provide_uuid=<%= ldap_id %>
  imaps     cmd="imapd -s" listen="imaps" prefork=1 provide_uuid=<%= ldap_id %>
  pop3      cmd="pop3d" listen="pop3" prefork=3  provide_uuid=<%= ldap_id %>
  pop3s     cmd="pop3d -s" listen="pop3s" prefork=1  provide_uuid=<%= ldap_id %>
  sieve     cmd="timsieved" listen="sieve" prefork=0  provide_uuid=<%= ldap_id %> 
  # these are only necessary if receiving/exporting usenet via NNTP
  # at least one LMTP is required for delivery
  lmtpunix  cmd="lmtpd" listen="/var/lib/imap/socket/lmtp" prefork=1
  # this is only necessary if using notifications
}
EVENTS {
  # this is required
  checkpoint    cmd="ctl_cyrusdb -c" period=30
  # this is only necessary if using duplicate delivery suppression,
  # Sieve or NNTP
  delprune  cmd="cyr_expire -E 3" at=0400
  # this is only necessary if caching TLS sessions
  tlsprune  cmd="tls_prune" at=0400
  # recreate index file for searching
  squatter  cmd="squatter -s -r user" at=0600
}
